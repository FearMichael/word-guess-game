<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <title>Word Guess</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.1.3/css/bootstrap.min.css" integrity="sha384-MCw98/SFnGE8fJT3GXwEOngsV7Zt27NXFoaoApmYm81iuXoPkFOJwJ8ERdknLPMO" crossorigin="anonymous">
    <link rel="stylesheet" type="text/css" media="screen" href="style.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.3.1/jquery.min.js"></script>

    
</head>
<body>
<!-- Background setup -->
<div class="background-overlay"></div>  
<!-- Title Header  -->
<header class="container text-center mt-4">
    <h1 class="text-white">Photographer's Word Guess</h1>
</header>

<!-- <div class="text-center mt-5">
    <h2 class="text-white" id="pressKey">Press any key to play!</h2>
</div> -->
<!-- Answer area -->
<div class="container text-center text-white">
    <h5 id="answer"></h5>
</div>
<!-- Guess area -->
<div class="container text-center text-white">
    <h4>Guesses:</h4>
    <h5 id="guesses"></h5>
</div>
<div class="container text-center mt-3 p-3">
    <button class="btn btn-lg btn-success" id="play">PLAY!</button>
</div>
<!-- Footer and photo cred -->
<div class="container fixed-bottom text-center text-light">
    <p>Background image thanks to: Photo by William Bayreuther on Unsplash</p>
</div>
<script>
//Word Guess Game Logic
const wordGuessGame = {
    //Array of words to choose from
    words: ["camera","lens","shutter","canon","nikon","panasonic","aperature","aspect ratio","bokeh","film","focal length","flash","exposure","manual","metering","noise","raw"],
    // Random Number generated and assigned to pick a word from the word array
    generateWord: function() {
        return this.words[Math.floor(Math.random() * this.words.length)];
    },    
    guesses: [],
    maskWord: "",
    playButton: $("#play"),


}
const hyphened = "";
const word = wordGuessGame.generateWord();
// Event tracker for keystrokes

//Game End logic
var gameEnd = () => {
    if (wordGuessGame.guesses.length == 9) {
        document.onkeyopress =
            function(event) {
                event
            }
            alert("Oh no! You lose!");
        }
    };
//Game start logic
wordGuessGame.playButton.on('click', function() {
    let answer = document.getElementById("answer");
        for (i = 0; i < word.length; i++) {
            if (word[i] == " ") {
            wordGuessGame.maskWord = word.replace(/" "/gi, " ");
            } else if (word[i] != " ") {
            wordGuessGame.maskWord = word.replace(/[a-z\d]/gi, " - ");
            answer.textContent = wordGuessGame.maskWord;
            }
            };
    wordGuessGame.playButton.hide(800);
});

// Keystroke and guess recognition
document.onkeypress = function(event) {
        keyGuess = event.key;
            console.log(word.includes(keyGuess));
        for (i=0; i < word.length; i++) {
            if (word[i] == keyGuess) {
                answer.textContent = wordGuessGame.maskWord[i] = keyGuess;
            } else {
                wordGuessGame.guesses.push(keyGuess);
            }
        };
        
        
        
        //     if (word.includes(keyGuess)) {
        //     answer.textContent = wordGuessGame.maskWord.replace(/wordGuessGame.maskWord[keyGuess]/i, keyGuess);
        //     console.log(wordGuessGame.maskWord);
        //     console.log(wordGuessGame.maskWord.replace(wordGuessGame.maskWord[keyGuess], keyGuess));
        // } else if (keyGuess !== word || keyGuess !== wordGuessGame.guesses) {
        //     wordGuessGame.guesses = keyGuess;
        //     $("#guesses").append(" " + keyGuess);
        // };        
        // if (!word.includes(keyGuess)) {
        //     document.getElementById("guesses").textContent += event.key;
        //     wordGuessGame.guesses.push(keyGuess);
        // };
};

//Game results - array of losses vs wins

//Winning

//Losing

</script>
</body>
</html>